total1= [831.3145, 746.0318, 625.4864, 563.82475, 529.65096, 505.5986833333334, 489.90111428571436, 477.37777500000004, 467.2760555555556, 459.1091, 453.02130909090914, 448.6695583333333, 443.7261615384615, 441.1858428571428, 438.18744666666663, 434.99145, 432.35140588235294, 429.74676666666664, 428.15234736842103, 426.61061499999994]
pow1= [0.3965, 0.3559, 0.3530333333333333, 0.3368, 0.34092, 0.33315, 0.3367142857142857, 0.33209999999999995, 0.3322555555555555, 0.33131999999999995, 0.33246363636363635, 0.33512499999999995, 0.33133846153846147, 0.33472142857142856, 0.33303333333333335, 0.33290625, 0.3329294117647059, 0.3321277777777778, 0.33328421052631585, 0.33409000000000005]
total2= [716.4279, 761.8455, 754.3296999999999, 748.9294749999999, 750.8944399999999, 749.3082666666666, 747.9019857142856, 745.9506999999999, 746.4460111111109, 746.0085799999999, 745.4640090909089, 744.5456749999998, 745.5629769230768, 745.8485642857141, 745.6017133333332, 745.14168125, 744.2459470588235, 742.8780499999999, 742.2462894736841, 742.7073949999999]
pow2= [0.2896, 0.31115000000000004, 0.3055333333333334, 0.30317500000000003, 0.30208, 0.3013166666666667, 0.30081428571428576, 0.30095000000000005, 0.3010555555555556, 0.30113, 0.3011909090909091, 0.3011416666666667, 0.3010846153846154, 0.3010285714285715, 0.3009266666666667, 0.3008875, 0.30079411764705877, 0.30069999999999997, 0.300578947368421, 0.30040999999999995]
total3= [701.6783, 722.03225, 687.4010666666667, 668.7670499999999, 657.00528, 648.67665, 643.7915142857142, 638.2486375, 633.4386222222222, 631.24216, 627.6168545454545, 624.7019583333333, 622.4268846153847, 620.5060214285714, 619.15204, 617.6972499999999, 616.7217470588234, 615.4513888888888, 614.4578210526315, 613.4761499999998]
pow3= [0.3224, 0.3332, 0.31773333333333337, 0.309325, 0.30372000000000005, 0.2999333333333334, 0.2969285714285715, 0.29438749999999997, 0.2922555555555555, 0.29058999999999996, 0.2890454545454545, 0.28783333333333333, 0.2868307692307692, 0.2859857142857143, 0.2853266666666666, 0.28473125, 0.2843117647058823, 0.28380555555555553, 0.2833842105263158, 0.282995]

t = [749.8069, 743.3031833333334, 689.0723888888889, 660.5070916666666, 645.8502266666666, 634.5278666666667, 627.1982047619048, 620.5257041666665, 615.7202296296296, 612.1199466666666, 608.7007242424241, 605.9723972222222, 603.905341025641, 602.5134761904761, 600.9803999999999, 599.27679375, 597.7730333333333, 596.0254018518517, 594.9521526315789, 594.26472]
e = [0.3361666666666667, 0.3334166666666667, 0.3254333333333334, 0.31643333333333334, 0.3155733333333333, 0.3114666666666667, 0.3114857142857143, 0.3091458333333333, 0.3085222222222222, 0.30767999999999995, 0.30756666666666665, 0.3080333333333333, 0.3064179487179487, 0.3072452380952381, 0.3064288888888889, 0.306175, 0.30601176470588237, 0.30554444444444445, 0.30574912280701755, 0.30583166666666667]

t=[749.8069, 743.3031833333334, 660.5070916666666, 634.5278666666667, 620.5257041666665, 612.1199466666666, 605.9723972222222, 602.5134761904761, 599.27679375, 596.0254018518517, 594.26472]
e=[0.3361666666666667, 0.3334166666666667, 0.31643333333333334, 0.3114666666666667, 0.3091458333333333, 0.30767999999999995, 0.3080333333333333, 0.3072452380952381, 0.306175, 0.30554444444444445, 0.30583166666666667]
i=[1, 2, 4, 6, 8, 10, 12, 14, 16, 18, 20]


x2 =1:1:20

subplot(1,2,2)
plot(i, t, '-|b', 'LineWidth',3, 'MarkerSize',12)
hold on
yline((831.3145 + 716.4279 +701.6783)/3,'-r', 'LineWidth',3)
hold on
yline(583,'--', 'LineWidth',3)
title("(b)")
ylabel("E2E Latency (ms)")
xlabel("Optimization Epochs")
xlim([1, 20])
ylim([550, 780])
legend("P", "R", 'fontsize',18, 'Interpreter', "latex")


grid on
box on
set(gca,'fontname','times') 
ax = gca; 
ax.FontSize = 18; 


subplot(1,2,1)
plot(i, e, '-|b', 'LineWidth',3, 'MarkerSize',12)
hold on
yline(0.336, '-r', 'LineWidth',3)
title("(a)")
ylabel("Energy Consumption (J)")
xlabel("Optimization Epochs")
xlim([1, 20])
%ylim([0.28, 0.35])
legend("P", "R", 'fontsize',18, 'Interpreter', "latex")

grid on
box on
set(gca,'fontname','times') 
ax = gca; 
ax.FontSize = 18; 

set(gcf,'Position',[500 300 800 347])
