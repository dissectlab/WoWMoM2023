data =  [0.5744, 0.7387, 0.1782, 0.5341, 0.124, 0.2477, 0.1652, 0.0353, 0.0158, 0.0158, 0.004]
layer_latency =  [0, 27.2579, 10.1612, 21.7888, 4.3666, 34.2211, 22.0609, 33.0553, 121.3356, 103.923, 24.8342]

x=1:1:21

subplot(1,4,1)
y = [[0.0246, 645.4777, 166.2016];[27.335, 13833.3402, 165.9897];[243.3517, 13826.3463, 147.9247];[322.0708, 3454.5016, 145.9871];[388.5109, 6909.8442, 135.9373];[541.171, 6912.0248, 123.6819];[551.6757, 1728.6426, 119.0818];[626.7436, 3454.2677, 112.4684];[720.8521, 3457.5036, 95.0622];[824.984, 862.7003, 78.4183];[896.1552, 1726.4677, 70.4068];[1015.8116, 1727.776, 54.9383];[1139.65, 431.1375, 38.9252];[1248.6382, 430.6314, 33.1328];[1226.326, 431.6038, 27.8965];[1215.5419, 105.904, 17.7479];[1544.1457, 15.4083, 3.7251];[1546.2225, 15.3896, 3.4742];[1571.9601, 0, 0]]
bar(y,'stacked')
ylabel('E2E Latency (ms)','fontsize',18)
xlabel('Cut Point','fontsize',18)
title("(a) 8 Mbps")
legend("Local", "Network", "Remote", 'fontsize',18, 'Interpreter', "latex")
grid on
box on
set(gca,'fontname','Times') 
ax = gca; 
ax.FontSize = 18; 
ax.YAxis.Exponent = 2;

subplot(1,4,2)
y = [[0.0062, 287.8187, 166.7767];[47.5284, 5571.4003, 167.6408];[379.9522, 5560.0361, 149.4134];[418.0203, 1385.6805, 143.466];[506.945, 2771.8726, 135.8081];[780.2135, 2774.1977, 123.7793];[790.7411, 691.2424, 118.5707];[849.1021, 1384.4863, 109.0308];[890.2654, 1386.7996, 93.7927];[1141.9967, 345.4569, 77.92];[1028.8721, 692.8514, 71.668];[1125.041, 691.43, 55.9953];[1276.5562, 172.9359, 38.9872];[1295.8209, 172.5714, 34.1611];[1374.4184, 172.4335, 26.1809];[1333.3482, 42.4642, 17.6827];[1801.8546, 7.0377, 4.1222];[1834.0798, 7.0501, 2.0232];[1816.3573, 0, 0]]
bar(y,'stacked')
ylabel('E2E Latency (ms)','fontsize',18)
xlabel('Cut Point','fontsize',18)
title("(b) 20 Mbps")
legend("Local", "Network", "Remote", 'fontsize',18, 'Interpreter', "latex")
grid on
box on
set(gca,'fontname','Times') 
ax = gca; 
ax.FontSize = 18;
ax.YAxis.Exponent = 2;

subplot(1,4,3)
y = [[6.0046385999999997e-05, 0.32273885];[0.0635555561025, 6.9166701];[0.58079007840828, 6.9131731499999995];[0.8591801569758399, 1.7272508];[0.9948808800696901, 3.4549220999999997];[1.4244692238580001, 3.4560124];[1.73440368924039, 0.8643213];[1.8456379376954402, 1.72713385];[2.15128700286507, 1.7287518];[3.0630016676792002, 0.43135015];[3.10720272028992, 0.86323385];[3.63342867880216, 0.863888];[4.75731643983, 0.21556875];[5.3558648678791805, 0.2153157];[5.200151399669, 0.2158019];[5.225672487894439, 0.052952];[6.673728537672641, 0.00770415];[6.709763267982001, 0.0076948];[6.79978316090316, 0.0]]
bar(y,'stacked')
ylabel('Energy Consumption (J)','fontsize',18)
xlabel('Cut Point','fontsize',18)
title("(c) 8 Mbps")
legend("Local", "Network", 'fontsize',18, 'Interpreter', "latex")
grid on
box on
set(gca,'fontname','Times') 
ax = gca; 
ax.FontSize = 18;
%ax.YAxis.Exponent = 2;

subplot(1,4,4)
y = [[1.4881319359999997e-05, 0.14390935];[0.11587137323748, 2.7857001500000003];[0.9974838752431601, 2.7800180500000002];[1.25993479584951, 0.6928402499999999];[1.4958591379069999, 1.3859363];[2.4143091169048496, 1.38709885];[2.872588453258, 0.34562119999999996];[2.98531604283605, 0.69224315];[3.16260293315234, 0.6933998];[4.701439620764639, 0.17272845];[4.0811333317089, 0.3464257];[4.5627655563958, 0.345715];[5.54204670352728, 0.08646795];[5.61879371380338, 0.0862857];[6.0340403806, 0.08621675000000001];[5.674855007261159, 0.0212321];[8.099299849351619, 0.00351885];[8.191198650826381, 0.0035250499999999996];[8.13407101901517, 0.0]]
bar(y,'stacked')
ylabel('Energy Consumption (J)','fontsize',18)
xlabel('Cut Point','fontsize',18)
title("(d) 20 Mbps")
legend("Local", "Network", 'fontsize',18, 'Interpreter', "latex")
grid on
box on
set(gca,'fontname','Times') 
ax = gca; 
ax.FontSize = 18; 
%ax.YAxis.Exponent = 2;

set(gcf,'Position',[500 300 1800 347])
